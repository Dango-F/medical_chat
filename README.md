# åŸºäºçŸ¥è¯†å›¾è°±çš„åŒ»ç–—é—®ç­”ç³»ç»Ÿ (Medical KG QA System)

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Vue 3](https://img.shields.io/badge/vue-3.x-green.svg)](https://vuejs.org/)

ä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±å’Œå¤§è¯­è¨€æ¨¡å‹çš„åŒ»ç–—é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€é—®ç­”ã€è¯æ®çº§å‚è€ƒã€å¯è§†åŒ–çŸ¥è¯†æµè§ˆä¸åˆ†ææŠ¥è¡¨ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- **è‡ªç„¶è¯­è¨€é—®ç­”**: ç”¨æˆ·å¯ç”¨è‡ªç„¶è¯­è¨€æé—®åŒ»ç–—ç›¸å…³é—®é¢˜ï¼ˆç—‡çŠ¶ã€ç–¾ç—…ã€ç”¨è¯ã€æŒ‡å—è§£é‡Šç­‰ï¼‰
- **æ··åˆæ£€ç´¢**: çŸ¥è¯†å›¾è°± + å‘é‡æ£€ç´¢çš„æ··åˆæ£€ç´¢ç­–ç•¥
- **è¯æ®æº¯æº**: æ‰€æœ‰å›ç­”å‡æœ‰æ¥æºå¼•ç”¨ï¼ˆPubMedã€ä¸´åºŠæŒ‡å—ã€DrugBank ç­‰ï¼‰
- **çŸ¥è¯†å›¾è°±å¯è§†åŒ–**: äº¤äº’å¼èŠ‚ç‚¹/è¾¹æµè§ˆï¼Œæ”¯æŒè·¯å¾„é«˜äº®
- **ç½®ä¿¡åº¦è¯„åˆ†**: æ˜¾ç¤ºå¯ä¿¡åº¦åˆ†æ•°ä¸åŒ»ç–—å…è´£å£°æ˜
- **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ï¼Œæš—é»‘æ¨¡å¼

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

æ¦‚è§ˆï¼šç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¨¡å¼ï¼Œåç«¯ä»¥ FastAPI æä¾›ç»“æ„åŒ–é—®ç­” API ä¸æµå¼ SSEï¼ˆServer-Sent Eventsï¼‰ï¼Œå¹¶é€šè¿‡æ··åˆæ£€ç´¢ï¼ˆKG + å‘é‡æ£€ç´¢ï¼‰ç»“åˆ LLM ç”Ÿæˆé«˜è´¨é‡ã€å¯æº¯æºçš„åŒ»ç–—å›ç­”ã€‚

ä¸»è¦ç»„ä»¶ï¼š

- å‰ç«¯ï¼ˆVue 3 + Viteï¼‰

  - Chat UIï¼šä¸»å¯¹è¯äº¤äº’ï¼Œæ”¯æŒæµå¼æ˜¾ç¤ºã€æ¶ˆæ¯å†å²ã€æ’¤å›/é‡å‘ç­‰æ“ä½œ
  - KG Viewerï¼šåŸºäº Cytoscape çš„çŸ¥è¯†å›¾è°±å¯è§†åŒ–ï¼ˆè·¯å¾„é«˜äº®ã€èŠ‚ç‚¹è¯¦æƒ…ï¼‰
  - Evidence Panelï¼šå±•ç¤ºè¯æ®åˆ—è¡¨ã€æ–‡çŒ®ç‰‡æ®µã€ç½®ä¿¡åº¦ä¸æ¥æºé“¾æ¥

- åç«¯ï¼ˆFastAPI + Pythonï¼‰

  - API/Routerï¼šæš´éœ²æ ‡å‡† REST ä¸æµå¼æ¥å£ï¼ˆ/api/v1/query, /api/v1/query/streamï¼‰
  - QAServiceï¼ˆRAG å¼•æ“ï¼‰ï¼šè´Ÿè´£å®ä½“æŠ½å–ã€KG æ£€ç´¢ã€å‘é‡æ£€ç´¢ã€æ„å»º LLM prompt ä¸ LLM è°ƒç”¨ï¼ˆæ”¯æŒ OpenAI / Gemini / SiliconFlowï¼‰
  - KG Serviceï¼ˆNeo4jï¼‰ï¼šçŸ¥è¯†å›¾è°±æŸ¥è¯¢ä¸ä¸Šä¸‹æ–‡æ„å»ºï¼ˆæ”¯æŒå…¨æ–‡ç´¢å¼• `kg_fulltext`ï¼‰
  - Vector Serviceï¼ˆQdrant æˆ– Mockï¼‰ï¼šæ–‡çŒ®/æ–‡æ¡£æ£€ç´¢ï¼ˆç”¨äºè¯æ®æ£€ç´¢ï¼‰
  - Memory Serviceï¼ˆSQLiteï¼‰ï¼šçŸ­æœŸæŒä¹…è®°å¿†ï¼ˆæŒ‰ user_id å­˜å‚¨é—®ç­”æ‘˜å½•å¹¶æ£€ç´¢ï¼‰
  - Session Serviceï¼ˆæŒä¹…ä¼šè¯ï¼‰ï¼šä¼šè¯åŒæ­¥ä¸è·¨è®¾å¤‡æ¢å¤
  - Logging & Auditï¼šæ—¥å¿—ï¼ˆloguruï¼‰ã€å®¡è®¡è®°å½•ä¸å¯é€‰ DB å­˜å‚¨

- æ•°æ®å­˜å‚¨
  - Neo4jï¼šçŸ¥è¯†å›¾è°±ä¸»å­˜å‚¨ï¼ˆDisease / Symptom / Drug / ...ï¼‰
  - Qdrantï¼ˆå¯é€‰ï¼‰ï¼šå‘é‡ç´¢å¼•ï¼ˆæ–‡çŒ®/è¯æ®æ£€ç´¢ï¼‰
  - SQLite / PostgreSQLï¼šè®°å¿†ã€ä¼šè¯æˆ–å®¡è®¡ï¼ˆæŒ‰éƒ¨ç½²éœ€è¦ï¼‰

å…³é”®ç‰¹æ€§ä¸å®ç°è¦ç‚¹ï¼š

- æ··åˆæ£€ç´¢ï¼ˆRAGï¼‰ï¼šå…ˆç”¨ KG åšå®ä½“æ¶ˆè§£ä¸ä¸Šä¸‹æ–‡ï¼Œå†ç”¨å‘é‡æ£€ç´¢è¡¥å……æ–‡çŒ®è¯æ®ï¼Œæœ€ç»ˆæŠŠ KG å†…å®¹ + è¯æ®ç‰‡æ®µæ³¨å…¥ LLM promptï¼ˆæˆ–åœ¨ KG-only æ¨¡å¼ä¸‹ä½¿ç”¨æ¨¡æ¿åŒ–å›ç­”ï¼‰ã€‚
- æµå¼è¾“å‡ºï¼šä½¿ç”¨ SSE å°†æ£€ç´¢å’Œç”ŸæˆçŠ¶æ€é€æ­¥æ¨é€åˆ°å‰ç«¯ï¼Œæ”¹å–„ç”¨æˆ·æ„ŸçŸ¥å»¶è¿Ÿã€‚
- å¯é…ç½® LLMï¼šæ ¹æ® envï¼ˆ`.env`ï¼‰é€‰æ‹© OpenAI / Gemini / SiliconFlowï¼Œå¹³å°ä¸­å®ç°è¶…æ—¶ä¿æŠ¤ã€çº¿ç¨‹æ± å°è£…ï¼ˆé˜»å¡ SDKï¼‰ç­‰å…¼å®¹å±‚ã€‚
- å¯è§‚æµ‹æ€§ï¼šè¯¦ç»† debug æ—¥å¿—ä¼šè®°å½•å®ä½“æŠ½å–ã€è¯æ®æ£€ç´¢çš„ä¸­é—´ç»“æœï¼Œæœ‰åˆ©äºé—®é¢˜å®šä½ï¼ˆå‚è§ `docs/DEBUG.md`ï¼‰ã€‚

ï¼ˆæ›´å¤šå®ç°ç»†èŠ‚å¯å‚è§ `docs/KG_query_flow.md` ä¸ `docs/DEBUG.md`ï¼‰

---

### æ¶æ„å›¾ï¼ˆå¯è§†åŒ–ï¼‰

ä¸‹é¢ä½¿ç”¨ Mermaid æ ¼å¼å±•ç¤ºç³»ç»Ÿæ¶æ„ï¼ˆGitHub æ”¯æŒ Mermaidï¼‰ï¼š

```mermaid
flowchart TB
  subgraph FE["Frontend (Vue 3 + Vite)"]
    ChatUI["Chat UI\n(å®æ—¶å¯¹è¯)"]
    KGViewer["KG Viewer\n(Cytoscape)"]
    Evidence["Evidence Panel\n(è¯æ®æ˜¾ç¤º)"]
  end

  subgraph BE["Backend (FastAPI + Python)"]
    API["Query API\n(/api/v1 & SSE)"]
    RAG["RAG Engine\n(å®ä½“æŠ½å– + KG + Vector + LLM)"]
    Auth["Auth & Audit\n(JWT + æ—¥å¿—)"]
  end

  ChatUI -->|HTTP / SSE| API
  KGViewer -->|API| API
  Evidence -->|API| API
  API --> RAG
  RAG --> Neo4j["Neo4j\n(çŸ¥è¯†å›¾è°±)"]
  RAG --> Qdrant["Qdrant\n(å‘é‡ç´¢å¼•)"]
  API --> Postgres["PostgreSQL\n(å…ƒæ•°æ®/å®¡è®¡)"]

  style FE fill:#f3f4f6,stroke:#9ca3af
  style BE fill:#fef3c7,stroke:#f59e0b
  style Neo4j fill:#a7f3d0,stroke:#10b981
  style Qdrant fill:#bfdbfe,stroke:#3b82f6
  style Postgres fill:#fbcfe8,stroke:#ec4899
```

## æ¶æ„è¯´æ˜ âœ…

ä¸‹æ–‡ç®€è¦è¯´æ˜æ¶æ„ä¸­å„ç»„ä»¶çš„èŒè´£ä¸å…³é”®äº¤äº’ã€‚

- **Frontendï¼ˆVue 3 + Viteï¼‰**ï¼šæä¾› `Chat UI`ã€`KG Viewer`ã€`Evidence Panel` ç­‰ç•Œé¢ç»„ä»¶ï¼›è´Ÿè´£æ”¶é›†ç”¨æˆ·æ¶ˆæ¯ã€å±•ç¤ºæµå¼å›å¤ä»¥åŠè¯æ®è¯¦æƒ…ï¼Œå‘åç«¯å‘èµ· HTTP / SSE è¯·æ±‚å¹¶æ¸²æŸ“é€æ®µè¿”å›çš„å“åº”ã€‚
- **Backendï¼ˆFastAPI + Pythonï¼‰**ï¼šæš´éœ²æŸ¥è¯¢ä¸æµå¼ APIï¼ˆ`/api/v1`ï¼‰ï¼Œå¤„ç†é‰´æƒä¸å®¡è®¡ï¼Œåè°ƒ RAG å¼•æ“ã€ä¼šè¯ä¸æŒä¹…åŒ–æœåŠ¡ï¼Œè´Ÿè´£å°† LLM çš„ç”Ÿæˆæµå¼æ¨é€å›å‰ç«¯ã€‚
- **RAG Engineï¼ˆæ£€ç´¢-å¢å¼ºç”Ÿæˆï¼‰**ï¼šè´Ÿè´£å¯¹å½“å‰ query åšå®ä½“æŠ½å–ã€å¹¶è¡Œè°ƒç”¨ Neo4jï¼ˆçŸ¥è¯†å›¾è°±ï¼‰ä¸ Qdrantï¼ˆå‘é‡ç´¢å¼•ï¼‰æ£€ç´¢è¯æ®ï¼Œåˆå¹¶æœ€è¿‘ä¸Šä¸‹æ–‡å¹¶æ„é€  prompt æäº¤ç»™ LLMï¼Œæœ€ç»ˆèåˆâ€œè¯æ®æ®µ + å›ç­”â€ä¾›å‰ç«¯å±•ç¤ºã€‚
- **Neo4jï¼ˆçŸ¥è¯†å›¾è°±ï¼‰**ï¼šæä¾›åŸºäºå®ä½“çš„ç²¾ç¡®/å…¨æ–‡/åŒ…å«æ£€ç´¢ä¸å…³ç³»æ‰©å±•ï¼Œç”¨äºæ„å»ºç»“æ„åŒ–ä¸Šä¸‹æ–‡ä¸æº¯æºè¯æ®ã€‚

#### çŸ¥è¯†å›¾è°±æ•°æ®æº ğŸ“š

- æ•°æ®æ¥æºï¼š [DiseaseKG: åŸºäº cnSchema å¸¸è§ç–¾ç—…ä¿¡æ¯çŸ¥è¯†å›¾è°±](http://data.openkg.cn/dataset/disease-information)
- ç®€ä»‹ï¼šDiseaseKG æä¾›ç»“æ„åŒ–çš„å¸¸è§ç–¾ç—…å®ä½“ä¸å…³ç³»ï¼Œé€‚åˆå¯¼å…¥ Neo4j ä½œä¸ºä¸»è¦çš„ KG æ•°æ®æ¥æºï¼Œç”¨äºå®ä½“åŒ¹é…ã€å…³ç³»æ£€ç´¢ä¸è¯æ®æº¯æºã€‚

- **Qdrantï¼ˆå‘é‡ç´¢å¼•ï¼‰**ï¼šå­˜å‚¨æ–‡æœ¬åµŒå…¥å¹¶æ”¯æŒç›¸ä¼¼åº¦æ£€ç´¢ï¼Œä½œä¸ºè¡¥å……è¯æ®æ¥æºä»¥æå‡å¬å›ä¸å›ç­”å‡†ç¡®æ€§ã€‚
- **PostgreSQL / SQLiteï¼ˆå…ƒæ•°æ®ä¸ä¼šè¯ï¼‰**ï¼šè´Ÿè´£ä¼šè¯å†å²ã€çŸ­æœŸè®°å¿†ä¸å®¡è®¡æ—¥å¿—çš„æŒä¹…åŒ–å­˜å‚¨ï¼ˆå¯é…ç½®ä¸º PostgreSQL æˆ– SQLiteï¼‰ã€‚
- **Auth & Audit**ï¼šJWT é‰´æƒã€è¯·æ±‚ä¸è¯æ®è®¿é—®å®¡è®¡ã€æ—¥å¿—è®°å½•ï¼Œç¡®ä¿åˆè§„ä¸å¯è¿½æº¯ã€‚
- **LLMï¼ˆå¤–éƒ¨æˆ–æ‰˜ç®¡æ¨¡å‹ï¼‰**ï¼šæ¥æ”¶ RAG æ„å»ºçš„ prompt å¹¶è¿”å›ç”Ÿæˆæ–‡æœ¬ï¼›ç³»ç»Ÿè®¾è®¡æ”¯æŒæµå¼è¿”å›ï¼ˆSSEï¼‰ã€‚

### æ•°æ®æµï¼ˆè¯·æ±‚ç¤ºä¾‹ï¼‰ ğŸ”

1. ç”¨æˆ·åœ¨å‰ç«¯è¾“å…¥é—®é¢˜å¹¶å‘é€ï¼›å‰ç«¯ä¼šæ”¶é›†æœ€è¿‘ N æ¡æ¶ˆæ¯ï¼ˆé»˜è®¤ 12 æ¡ï¼‰å¹¶æŠŠå½“å‰æ¶ˆæ¯é€šè¿‡ HTTP POSTï¼ˆæˆ–å»ºç«‹ SSEï¼‰å‘é€åˆ°åç«¯ `POST /api/v1/query`ã€‚
2. åç«¯éªŒè¯è¯·æ±‚å¹¶æŸ¥æ‰¾ä¼šè¯åï¼Œè§¦å‘ RAG æµç¨‹å¤„ç†è¯¥ queryã€‚
3. **å®ä½“æŠ½å–ä»…åŸºäºå½“å‰ query**ï¼ˆä»¥é¿å…å°†ä¸æœ¬è½®æ— å…³çš„å†å²è¯æ®æ··å…¥æœ¬æ¬¡æ£€ç´¢ï¼‰ã€‚
4. ä½¿ç”¨æŠ½å–åˆ°çš„å®ä½“åœ¨ Neo4j ä¸­ä¼˜å…ˆæŒ‰ `exact â†’ fulltext â†’ contains` çš„é¡ºåºæ£€ç´¢ï¼›åŒæ—¶ä»¥ query ä¸ºè¾“å…¥å¯¹ Qdrant åšå‘é‡æ£€ç´¢ä»¥è·å–ç›¸ä¼¼æ–‡æœ¬ç‰‡æ®µã€‚
5. å°†æ£€ç´¢åˆ°çš„è¯æ®ä¸æœ€è¿‘ä¸Šä¸‹æ–‡ï¼ˆåç«¯é»˜è®¤ä½¿ç”¨æœ€è¿‘ 6 æ¡æ¶ˆæ¯ï¼‰åˆå¹¶ï¼Œæ„é€  prompt å¹¶è°ƒç”¨ LLM ç”Ÿæˆå›ç­”ã€‚
6. åç«¯ä»¥ SSE æˆ–åˆ†å— HTTP æ–¹å¼å°†ç”Ÿæˆçš„å›ç­”é€æ®µå‘é€åˆ°å‰ç«¯ï¼›åŒæ—¶å°†ä¼šè¯ã€è¯æ®ç‰‡æ®µç´¢å¼•ä¸å®¡è®¡æ—¥å¿—æŒä¹…åŒ–åˆ°æ•°æ®åº“ã€‚
7. å‰ç«¯é€æ®µæ¸²æŸ“å›ç­”å¹¶åœ¨è¯æ®é¢æ¿ä¸­å±•ç¤ºæ£€ç´¢æ¥æºï¼Œç”¨æˆ·å¯å±•å¼€æŸ¥çœ‹æˆ–æ ‡æ³¨é”™è¯¯è¯æ®ä»¥æ”¹è¿›ç³»ç»Ÿã€‚

### å…³é”®è®¾è®¡ç‚¹ä¸æ³¨æ„äº‹é¡¹ âš ï¸

- **è¯æ®éš”ç¦»**ï¼šæ£€ç´¢ä½¿ç”¨å½“å‰ query çš„å®ä½“æå–ï¼Œé¿å…å±•ç¤ºä¸æœ¬è½®æ— å…³çš„å†å²è¯æ®ï¼Œå¢å¼ºå¯è§£é‡Šæ€§ä¸å®‰å…¨æ€§ã€‚
- **åŒä¹‰è¯ä¸å›é€€æœºåˆ¶**ï¼šKG æ£€ç´¢å†…ç½® `SYNONYMS` åŒä¹‰è¯æ˜ å°„ä¸ n-gram å›é€€é€»è¾‘ï¼Œä»¥æå‡å¯¹å£è¯­/åˆ«åï¼ˆä¾‹å¦‚â€œå°å„¿éº»ç—¹ç—‡â€ â†’ â€œè„Šé«“ç°è´¨ç‚â€ï¼‰çš„å¬å›èƒ½åŠ›ã€‚
- **æµå¼ä½“éªŒ**ï¼šä½¿ç”¨ SSE å®ç°ä½å»¶è¿Ÿã€åˆ†æ®µæµå¼å“åº”ï¼Œå‰ç«¯éœ€æ”¯æŒé‡è¿ä¸é”™è¯¯æ¢å¤ç­–ç•¥ã€‚
- **å®‰å…¨ä¸å®¡è®¡**ï¼šå¯¹æ•æ„ŸæŸ¥è¯¢ä¸è¯æ®è®¿é—®è¿›è¡Œå®¡è®¡ä¸è„±æ•å¤„ç†ï¼Œç¡®ä¿åˆè§„æ€§ã€‚

è¯¦è§ï¼š`docs/KG_query_flow.md` ä¸ `docs/DEBUG.md`ï¼Œé‡Œé¢æœ‰æ›´è¯¦ç»†çš„æ£€ç´¢æµç¨‹ä¸è°ƒè¯•æ­¥éª¤ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ backend/                 # FastAPI åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # API è·¯ç”±ï¼ˆ/api/v1ï¼‰
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®ï¼ˆsettings, loggingï¼‰
â”‚   â”‚   â”œâ”€â”€ models/         # Pydantic æ•°æ®æ¨¡å‹ï¼ˆQueryRequest/QueryResponse ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡å®ç°ï¼ˆqa_service, kg_service, vector_service, memory_service, session_serviceï¼‰
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°ä¸ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ data/               # ç¤ºä¾‹ä¸æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ tests/              # å•å…ƒ/é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/               # Vue 3 + Vite å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶ï¼ˆChatMessage, EvidencePanel, SettingsModalï¼‰
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢è§†å›¾ï¼ˆChatView, GraphView, HomeViewï¼‰
â”‚   â”‚   â”œâ”€â”€ stores/         # Pinia çŠ¶æ€ç®¡ç†ï¼ˆsessions, chat storeï¼‰
â”‚   â”‚   â””â”€â”€ services/       # å‰ç«¯ API å®¢æˆ·ç«¯ï¼ˆqueryAPI, sessionAPIï¼‰
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ diseasekg/              # çŸ¥è¯†å›¾è°±æ„å»ºè„šæœ¬ï¼ˆmedical.json -> Neo4jï¼‰
â”‚   â”œâ”€â”€ data/               # æºæ•°æ®ï¼ˆmedical.jsonï¼‰
â”‚   â”œâ”€â”€ dict/               # è¯å…¸ä¸è¾…åŠ©æ–‡ä»¶
â”‚   â””â”€â”€ prepare_data/       # æŠ“å–ä¸æ¸…æ´—è„šæœ¬
â”œâ”€â”€ docs/                   # æ–‡æ¡£ï¼ˆDEBUG.md, KG_query_flow.md, BUILD.md ç­‰ï¼‰
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

æç¤ºï¼šæ›´å¤šå…³äº KG æ„å»ºæµç¨‹ä¸è°ƒè¯•ä¿¡æ¯è¯·å‚è§ `docs/KG_query_flow.md` ä¸ `docs/DEBUG.md`ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Node.js 18+
- Neo4j 5.x

### å¿«é€Ÿå¼€å§‹

#### åç«¯

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n medical_chat python=3.11
conda activate medical_chat

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æ„å»ºçŸ¥è¯†å›¾è°±
python build_kg.py

# é…ç½®ç¯å¢ƒå˜é‡
cp env.example.txt .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½® API Key å’Œæ•°æ®åº“è¿æ¥

# å¯åŠ¨æœåŠ¡
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### å‰ç«¯

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## ğŸ“– API æ–‡æ¡£

å¯åŠ¨åç«¯æœåŠ¡åè®¿é—®ï¼š

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### æ ¸å¿ƒæ¥å£

#### POST /api/v1/query - é—®ç­”æŸ¥è¯¢

```json
// è¯·æ±‚
{
  "query": "å¤´ç—›ä¸¤å¤©ï¼Œå¯èƒ½æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿ",
  "max_answers": 3,
  "include_kg_paths": true
}

// å“åº”
{
  "answer": "å¤´ç—›å¯èƒ½ç”±å¤šç§åŸå› å¼•èµ·...",
  "evidence": [
    {
      "source": "PubMed",
      "snippet": "åå¤´ç—›æ˜¯ä¸€ç§å¸¸è§çš„åŸå‘æ€§å¤´ç—›...",
      "pmid": "12345678",
      "confidence": 0.93,
      "url": "https://pubmed.ncbi.nlm.nih.gov/12345678"
    }
  ],
  "kg_paths": [...],
  "warnings": ["æœ¬ç³»ç»Ÿä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£åŒ»ç”Ÿè¯Šæ–­"],
  "confidence_score": 0.89
}
```

## âš ï¸ å…è´£å£°æ˜

**é‡è¦æç¤º**: æœ¬ç³»ç»Ÿä¸ºåŒ»ç–—ä¿¡æ¯æ£€ç´¢åŠå‚è€ƒå·¥å…·ï¼Œ**ä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç”Ÿçš„è¯Šæ–­å’Œæ²»ç–—å»ºè®®**ã€‚

- æ‰€æœ‰ä¸´åºŠå»ºè®®ä»…ä¾›å‚è€ƒï¼Œéœ€ç»ä¸“ä¸šåŒ»ç–—äººå‘˜æ ¸å®
- ç´§æ€¥æƒ…å†µè¯·ç«‹å³å°±åŒ»æˆ–æ‹¨æ‰“æ€¥æ•‘ç”µè¯
- ç³»ç»Ÿä¸å­˜å‚¨æˆ–å¤„ç†ä¸ªäººå¥åº·ä¿¡æ¯ (PHI)
- ä½¿ç”¨æœ¬ç³»ç»Ÿå³è¡¨ç¤ºæ‚¨å·²ç†è§£å¹¶æ¥å—ä»¥ä¸Šå£°æ˜

## ğŸ“Š æ•°æ®æ¥æº

æœ¬ç³»ç»ŸçŸ¥è¯†å›¾è°±æ•°æ®æ¥æºäºä»¥ä¸‹å…¬å¼€åŒ»å­¦èµ„æºï¼š
æ•°æ®æ¥æºï¼š [DiseaseKG: åŸºäº cnSchema å¸¸è§ç–¾ç—…ä¿¡æ¯çŸ¥è¯†å›¾è°±](http://data.openkg.cn/dataset/disease-information)

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»1847539781@qq.comã€‚
